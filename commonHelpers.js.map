{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst input = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('[data-start]');\nconst stopBtn = document.querySelector('[data-stop]');\n\nconst daysEl = document.querySelector('[data-days]');\nconst hoursEl = document.querySelector('[data-hours]');\nconst minutesEl = document.querySelector('[data-minutes]');\nconst secondsEl = document.querySelector('[data-seconds]');\n\nlet selectedTime = null;\nlet intervalId = null; \n\nstartBtn.disabled = true;\nstopBtn.disabled = true;\n\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] > Date.now()) {\n      selectedTime = selectedDates[0];\n      startBtn.disabled = false;\n    } else {\n      iziToast.error({\n    title: 'Будь ласка, оберіть час у майбутньому!',\n    message: '',\n    position: 'topCenter'\n    });\n      startBtn.disabled = true; \n    }\n  },\n};\n\nflatpickr('#datetime-picker', options);\n\nstartBtn.addEventListener('click', () => {\n\n  startBtn.disabled = true\n  stopBtn.disabled = false;\n\n  intervalId = setInterval(() => {\n    const currentTime = Date.now();\n    const diff = selectedTime - currentTime;\n\n   if (diff <= 0) {\n      clearInterval(intervalId);\n     startBtn.disabled = true;\n     stopBtn.disabled = true;\n     iziToast.success({\n       title: 'Відлік успішно завершено!',\n       message:'',\n       position: 'topCenter'\n    });\n      return;\n    };\n\n    let d, h, m, s;\n  d = Math.floor(diff / (1000 * 60 * 60 * 24));\n  h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n  s = Math.floor((diff % (1000 * 60)) / 1000);  \n  s < 10 ? s = `0${s}`: s = `${s}`\n  m < 10 ? m = `0${m}`: m = `${m}`\n  h < 10 ? h = `0${h}`: h = `${h}`\n  d < 10 ? d = `0${d}`: d = `${d}`\n    // console.log(`${d}:${h}:${m}:${s}`);\n    timerDisplay(d, h, m, s);\n  }, 1000) \n});\n\nstopBtn.addEventListener('click', () => {\n  clearInterval(intervalId);\n  timerDisplay(0, 0, 0, 0);\n  stopBtn.disabled = true;\n  iziToast.warning({\n    title: 'Відлік зупинено!',\n    message: '',\n    position: 'topCenter'\n  })\n});\n\nfunction timerDisplay(d, h, m, s) {\n  daysEl.textContent = String(d).padStart(2, \"0\");\n  hoursEl.textContent = String(h).padStart(2, \"0\");\n  minutesEl.textContent = String(m).padStart(2, \"0\");\n  secondsEl.textContent = String(s).padStart(2, \"0\");\n}"],"names":["startBtn","stopBtn","daysEl","hoursEl","minutesEl","secondsEl","selectedTime","intervalId","options","selectedDates","iziToast","flatpickr","currentTime","diff","d","h","m","s","timerDisplay"],"mappings":"+IAQc,SAAS,cAAc,kBAAkB,EACvD,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAU,SAAS,cAAc,aAAa,EAE9CC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,IAAIC,EAAe,KACfC,EAAa,KAEjBP,EAAS,SAAW,GACpBC,EAAQ,SAAW,GAGnB,MAAMO,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,CAAC,EAAI,KAAK,IAAG,GAC7BH,EAAeG,EAAc,CAAC,EAC9BT,EAAS,SAAW,KAEpBU,EAAS,MAAM,CACjB,MAAO,yCACP,QAAS,GACT,SAAU,WACd,CAAK,EACCV,EAAS,SAAW,GAEvB,CACH,EAEAW,EAAU,mBAAoBH,CAAO,EAErCR,EAAS,iBAAiB,QAAS,IAAM,CAEvCA,EAAS,SAAW,GACpBC,EAAQ,SAAW,GAEnBM,EAAa,YAAY,IAAM,CAC7B,MAAMK,EAAc,KAAK,MACnBC,EAAOP,EAAeM,EAE7B,GAAIC,GAAQ,EAAG,CACZ,cAAcN,CAAU,EACzBP,EAAS,SAAW,GACpBC,EAAQ,SAAW,GACnBS,EAAS,QAAQ,CACf,MAAO,4BACP,QAAQ,GACR,SAAU,WACjB,CAAK,EACC,MAEN,CACI,IAAII,EAAGC,EAAGC,EAAGC,EACfH,EAAI,KAAK,MAAMD,GAAQ,IAAO,GAAK,GAAK,GAAG,EAC3CE,EAAI,KAAK,MAAOF,GAAQ,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAAG,EAChEG,EAAI,KAAK,MAAOH,GAAQ,IAAO,GAAK,KAAQ,IAAO,GAAG,EACtDI,EAAI,KAAK,MAAOJ,GAAQ,IAAO,IAAO,GAAI,EAC1CI,EAAI,GAAKA,EAAI,IAAIA,CAAC,GAAIA,EAAI,GAAGA,CAAC,GAC9BD,EAAI,GAAKA,EAAI,IAAIA,CAAC,GAAIA,EAAI,GAAGA,CAAC,GAC9BD,EAAI,GAAKA,EAAI,IAAIA,CAAC,GAAIA,EAAI,GAAGA,CAAC,GAC9BD,EAAI,GAAKA,EAAI,IAAIA,CAAC,GAAIA,EAAI,GAAGA,CAAC,GAE5BI,EAAaJ,EAAGC,EAAGC,EAAGC,CAAC,CACxB,EAAE,GAAI,CACT,CAAC,EAEDhB,EAAQ,iBAAiB,QAAS,IAAM,CACtC,cAAcM,CAAU,EACxBW,EAAa,EAAG,EAAG,EAAG,CAAC,EACvBjB,EAAQ,SAAW,GACnBS,EAAS,QAAQ,CACf,MAAO,mBACP,QAAS,GACT,SAAU,WACd,CAAG,CACH,CAAC,EAED,SAASQ,EAAaJ,EAAGC,EAAGC,EAAGC,EAAG,CAChCf,EAAO,YAAc,OAAOY,CAAC,EAAE,SAAS,EAAG,GAAG,EAC9CX,EAAQ,YAAc,OAAOY,CAAC,EAAE,SAAS,EAAG,GAAG,EAC/CX,EAAU,YAAc,OAAOY,CAAC,EAAE,SAAS,EAAG,GAAG,EACjDX,EAAU,YAAc,OAAOY,CAAC,EAAE,SAAS,EAAG,GAAG,CACnD"}